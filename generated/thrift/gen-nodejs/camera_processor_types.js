//
// Autogenerated by Thrift Compiler (0.22.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
"use strict";

var thrift = require('thrift');
var Thrift = thrift.Thrift;
var Q = thrift.Q;
var Int64 = require('node-int64');

var apriltag_ttypes = require('./apriltag_types.js');
var image_recognition_ttypes = require('./image_recognition_types.js');
var video_stream_ttypes = require('./video_stream_types.js');


var ttypes = module.exports = {};
ttypes.CameraPipelineType = {
  '0' : 'APRIL_TAGS',
  'APRIL_TAGS' : 0,
  '1' : 'IMAGE_RECOGNITION',
  'IMAGE_RECOGNITION' : 1,
  '2' : 'VIDEO_STREAM',
  'VIDEO_STREAM' : 2
};
var CameraProcessorConfig = module.exports.CameraProcessorConfig = function(args) {
  this.pipelines_to_run = null;
  this.apriltag_detection_config = null;
  this.object_recognition_config = null;
  this.live_video_config = null;
  if (args) {
    if (args.pipelines_to_run !== undefined && args.pipelines_to_run !== null) {
      this.pipelines_to_run = Thrift.copyList(args.pipelines_to_run, [null]);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field pipelines_to_run is unset!');
    }
    if (args.apriltag_detection_config !== undefined && args.apriltag_detection_config !== null) {
      this.apriltag_detection_config = new apriltag_ttypes.AprilDetectionConfig(args.apriltag_detection_config);
    }
    if (args.object_recognition_config !== undefined && args.object_recognition_config !== null) {
      this.object_recognition_config = new image_recognition_ttypes.ObjectRecognitionConfig(args.object_recognition_config);
    }
    if (args.live_video_config !== undefined && args.live_video_config !== null) {
      this.live_video_config = new video_stream_ttypes.LiveVideo(args.live_video_config);
    }
  }
};
CameraProcessorConfig.prototype = {};
CameraProcessorConfig.prototype[Symbol.for("read")] = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.LIST) {
        this.pipelines_to_run = [];
        var _rtmp31 = input.readListBegin();
        var _size0 = _rtmp31.size || 0;
        for (var _i2 = 0; _i2 < _size0; ++_i2) {
          var elem3 = null;
          elem3 = input.readI32();
          this.pipelines_to_run.push(elem3);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.apriltag_detection_config = new apriltag_ttypes.AprilDetectionConfig();
        this.apriltag_detection_config[Symbol.for("read")](input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRUCT) {
        this.object_recognition_config = new image_recognition_ttypes.ObjectRecognitionConfig();
        this.object_recognition_config[Symbol.for("read")](input);
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.STRUCT) {
        this.live_video_config = new video_stream_ttypes.LiveVideo();
        this.live_video_config[Symbol.for("read")](input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

CameraProcessorConfig.prototype[Symbol.for("write")] = function(output) {
  output.writeStructBegin('CameraProcessorConfig');
  if (this.pipelines_to_run !== null && this.pipelines_to_run !== undefined) {
    output.writeFieldBegin('pipelines_to_run', Thrift.Type.LIST, 1);
    output.writeListBegin(Thrift.Type.I32, this.pipelines_to_run.length);
    for (var iter4 in this.pipelines_to_run) {
      if (this.pipelines_to_run.hasOwnProperty(iter4)) {
        iter4 = this.pipelines_to_run[iter4];
        output.writeI32(iter4);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.apriltag_detection_config !== null && this.apriltag_detection_config !== undefined) {
    output.writeFieldBegin('apriltag_detection_config', Thrift.Type.STRUCT, 2);
    this.apriltag_detection_config[Symbol.for("write")](output);
    output.writeFieldEnd();
  }
  if (this.object_recognition_config !== null && this.object_recognition_config !== undefined) {
    output.writeFieldBegin('object_recognition_config', Thrift.Type.STRUCT, 3);
    this.object_recognition_config[Symbol.for("write")](output);
    output.writeFieldEnd();
  }
  if (this.live_video_config !== null && this.live_video_config !== undefined) {
    output.writeFieldBegin('live_video_config', Thrift.Type.STRUCT, 4);
    this.live_video_config[Symbol.for("write")](output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

